# B树与B+树的主要区别

1. **数据存储位置**
   - **B树**：数据既可以存储在内部节点，也可以存储在叶子节点。
   - **B+树**：所有数据仅存储在叶子节点，内部节点仅存储索引信息。
2. **叶子节点结构**
   - **B树**：叶子节点之间没有连接，范围查询需要遍历整棵树。
   - **B+树**：所有叶子节点通过链表连接，便于顺序访问和范围查询。
3. **查询效率**
   - **B树**：查询路径长度不固定，可能在较高层级完成查找。
   - **B+树**：所有数据都在叶子节点，查询路径长度一致，查询性能更稳定。
4. **插入和删除操作**
   - **B树**：插入和删除操作可能涉及内部节点，操作复杂度较高。
   - **B+树**：所有插入和删除操作都在叶子节点进行，内部节点仅作为索引，操作相对简单。

# 为什么数据库索引选择B+树

1. **更高的磁盘I/O效率** B+树的内部节点仅存储索引信息，因此每个节点可以容纳更多的键值，树的高度更低，减少了磁盘I/O操作次数，提高了查询效率。
2. **更稳定的查询性能** 由于所有数据都存储在叶子节点，任何查询都需要访问到叶子节点，确保了查询路径的一致性，提供了更稳定的查询性能。
3. **更高效的范围查询** B+树的叶子节点通过链表连接，便于执行范围查询和顺序访问，这在数据库中是常见的操作。
4. **更适合全表扫描** 由于数据仅存储在叶子节点，执行全表扫描时，只需遍历叶子节点，避免了访问内部节点，提高了扫描效率。
5. **更好的缓存命中率** B+树的内部节点较小，可以在内存中缓存更多的节点，提高了缓存命中率，进一步提升了查询性能。